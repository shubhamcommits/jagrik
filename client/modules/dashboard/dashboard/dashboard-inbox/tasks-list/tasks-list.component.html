<ng-container *ngIf="isdash== false">
<div class="container">
  <div class="row">
      <div class="col-md-4 col-xl-3">
          <div class="card bg-c-blue order-card">
              <div class="card-block">
                  <h3 class="m-b-20">Week</h3>
                  <h2 class="text-right"><mat-icon class="icon-top" >today</mat-icon><span>{{userData?.tasks[userData?.tasks?.length-1]?.week}}</span></h2>
                  <!-- <p class="m-b-0">Completed Orders<span class="f-right">351</span></p> -->
              </div>
          </div>
      </div>

      <div class="col-md-4 col-xl-3">
          <div class="card bg-c-green order-card">
              <div class="card-block">
                  <h3 class="m-b-20 text-capitalize">{{data?.card?.theme}}</h3>
                  <h2 class="text-right"><mat-icon class="icon-top">call_to_action</mat-icon><span>{{data?.card?.dice_number}}</span></h2>
                  <!-- <p class="m-b-0" class="text-capitalize">{{data?.card?.theme}}</p> -->
              </div>
          </div>
      </div>

      <div class="col-md-4 col-xl-3">
          <div class="card bg-c-yellow order-card">
              <div class="card-block">
                  <h3 class="m-b-20">Team Task Status</h3>
                  <h2 class="text-right"><mat-icon class="icon-top">autorenew</mat-icon><span>{{taskStatus?.teamTask == 'complete' ? 'Submitted' : 'Pending'}}</span></h2>
                  <!-- <p class="m-b-0">Completed Orders<span class="f-right">351</span></p> -->
              </div>
          </div>
      </div>

      <div class="col-md-4 col-xl-3" >
          <div class="card bg-c-pink order-card" style="height: 100%;">
              <div class="card-block">
                  <h3 class="m-b-20">User Task Status</h3>
                  <!-- <h2 class="text-right"><mat-icon class="icon-top">User</mat-icon><span>486</span></h2>
                  <p class="m-b-0">Completed Orders<span class="f-right">351</span></p> -->
                  <div class="row" *ngFor="let item of taskStatus?.teamMembers">
                    <div class="col-md-9">
                      <p class="text-capitalize"><b>{{item.user_name}}</b></p>
                    </div>
                    <div class="col-md-3">
                        <div style="border-radius:50%; background-color:rgb(255, 60, 0);width: 23px;height: 23px;" *ngIf="item.user_individual_task_status === false">
                        </div>
                        <div style="border-radius:50%; background-color:rgb(123, 255, 0);width: 23px;height: 23px;" *ngIf="item.user_individual_task_status === true">
                        </div>
                    </div>
                  </div>
              </div>
          </div>
      </div>
</div>
</div>


<!-- Cards End-->
<!-- <div class="row" *ngIf="data && userData">
  <div class="col-md-4">
    <div class="card" style="height:100%; overflow: hidden;">
      <div class="row">
        <div class="col-md-12 task-card-heading d-flex justify-content-center">Card
        </div>
      </div>
      <div class="card-body">
        <p class="text-capitalize"><b>Theme: </b>{{data?.card?.theme}}</p>
        <p class="text-capitalize"><b>Description: </b>{{data?.card?.description}}</p>
        <p class="text-capitalize"><b>Dice Number: </b>{{data?.card?.dice_number}}</p>
        <p class="text-capitalize"><b>Week: </b>{{userData?.tasks[userData?.tasks?.length-1]?.week}}</p>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card" style="height: 100%; overflow: hidden;">
      <div class="row">
        <div class="col-md-12 task-card-heading d-flex justify-content-center">Task Status
        </div>
      </div>
      <div class="card-body">
        <p class="text-capitalize"><b>Team Task Status: </b>{{taskStatus?.teamTask == 'complete' ? 'completed' : taskStatus?.teamTask}}</p>
         <div style="border-radius:50%; background-color:chartreuse;width: 23px;height: 23px;" *ngIf="item.user_individual_task_status === false"></div>
        <div class="row" *ngFor="let item of taskStatus?.teamMembers">
          <div class="col-md-9">
            <p class="text-capitalize"><b>{{item.user_name}}</b></p>
          </div>
          <div class="col-md-3">
              <div style="border-radius:50%; background-color:rgb(255, 60, 0);width: 23px;height: 23px;" *ngIf="item.user_individual_task_status === false">
              </div>
          </div>
        </div>
           </b>{{item.user_individual_task_status == false ? 'To Do' : 'complete'}}</p>
      </div>
    </div>
  </div>
</div> -->
<!-- <mat-grid-list cols="4" *ngIf="data && userData">
  <mat-grid-tile>
   <mat-card [style.background]="'white'">
      <mat-card-header>
        <mat-card-title> Card</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p class="text-capitalize"><b>Theme: </b>{{data?.card?.theme}}</p>
        <p class="text-capitalize"><b>Description: </b>{{data?.card?.description}}</p>
        <p class="text-capitalize"><b>Dice Number: </b>{{data?.card?.dice_number}}</p>
        <p class="text-capitalize"><b>Week: </b>{{userData?.tasks[userData?.tasks?.length-1]?.week}}</p>
      </mat-card-content>
    </mat-card>

    <div class="card">
      <div class="row">
        <div class="col-md-12 task-card-heading d-flex justify-content-center">Card
        </div>
      </div>

      <div class="card-body">
        <p class="text-capitalize"><b>Theme: </b>{{data?.card?.theme}}</p>
        <p class="text-capitalize"><b>Description: </b>{{data?.card?.description}}</p>
        <p class="text-capitalize"><b>Dice Number: </b>{{data?.card?.dice_number}}</p>
        <p class="text-capitalize"><b>Week: </b>{{userData?.tasks[userData?.tasks?.length-1]?.week}}</p>
      </div>
    </div>
  </mat-grid-tile>
  <mat-grid-tile>
    <mat-card [style.border]="'solid 1px #cc4266'">
      <mat-card-header>
        <mat-card-title>Task Status</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p class="text-capitalize"><b>Team Task Status: </b>{{taskStatus?.teamTask == 'complete' ? 'completed' : taskStatus?.teamTask}}</p>
        <p class="text-capitalize" *ngFor="let item of taskStatus?.teamMembers"><b>{{item.user_name}} Status:
          </b>{{item.user_individual_task_status == false ? 'To Do' : 'complete'}}</p>

      </mat-card-content>
    </mat-card>
    <div class="card" style="height: 100%;">
      <div class="row">
        <div class="col-md-12 task-card-heading d-flex justify-content-center">Task Status
        </div>
      </div>

      <div class="card-body">
        <p class="text-capitalize"><b>Team Task Status: </b>{{taskStatus?.teamTask == 'complete' ? 'completed' : taskStatus?.teamTask}}</p>
        <p class="text-capitalize" *ngFor="let item of taskStatus?.teamMembers"><b>{{item.user_name}} Status:
          </b>{{item.user_individual_task_status == false ? 'To Do' : 'complete'}}</p>
      </div>
    </div>
  </mat-grid-tile>
<mat-grid-tile>
    <mat-card [style.background]="'rgb(243, 179, 79)'">
      <mat-card-header>
        <mat-card-title>Leaderboard</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p class="text-capitalize"><b>Team Name: </b>Dummy Data</p>
        <p class="text-capitalize"><b>Maximum Points: </b>Dummy Data</p>
        <p class="text-capitalize"><b>Dice Number: </b>Dummy Data</p>
      </mat-card-content>
    </mat-card>
  </mat-grid-tile>
  <mat-grid-tile>
    <mat-card [style.background]="'rgb(243, 179, 79)'">
      <mat-card-header>
        <mat-card-title>Reviews</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam quae ex molestias cum ducimus, aut
          quidem molestiae voluptatibus eos perferendis obcaecati!
        </p>
      </mat-card-content>
    </mat-card>
  </mat-grid-tile>
</mat-grid-list> -->


<!-- Task List -->
<div class="container">
  <div class="row">
  <div class="col-12" style="display: block; justify-content: center;">
    <div class="card card-dashboard" style="height: 100%;">
      <div class="card-header">
          <h2 style="margin: 0px !important;">Community Task</h2>
      </div>
      <div class="card-body">



    <!-- TABS COM -->
    <mat-tab-group style="width: 100%;height: 100%; display: flex; align-items: center ;min-height: 350px; justify-content: start;" >
      <mat-tab  class="gold task-level">
      <ng-template mat-tab-label>
          <span [ngClass]="'gold task-level'">GOLD</span>
      </ng-template>
        <ng-container *ngFor="let task of this.data.tasks" >
        <div *ngIf="task.category == 'community' && task?.type== 'gold'" class="task-list"  >
          <div class="row">
            <div class="col-12 text-capitalize heading">Description</div>
            <div class="col-12">
              <p>{{ task?.description }}</p>
            </div>
          </div><br>
          <div class="row">
            <div class="col-6 text-capitalize new-label">Points: {{ task?.points }}</div>
            <div *ngIf="taskStatus?.teamTask  !== 'complete'" class="col-6 text-capitalize new-col"><button
                mat-raised-button class="task-btn"
                (click)="openDialog(task)">UPLOAD</button></div>
          </div>
        </div>
      </ng-container>
      </mat-tab>

      <mat-tab  class="task-level">
        <ng-template mat-tab-label>
          <span [ngClass]="'silver task-level'">SILVER</span>
        </ng-template>
        <ng-container *ngFor="let task of this.data.tasks" >
          <div *ngIf="task.category == 'community' && task?.type== 'silver'" class="task-list" >
            <div class="row">
             <div class="col-12 text-capitalize heading">Description</div>
             <div class="col-12">
               <p>{{ task?.description }}</p>
             </div>
            </div><br>
            <div class="row">
              <div class="col-6 text-capitalize new-label">Points: {{ task?.points }}</div>
              <div *ngIf="taskStatus?.teamTask  !== 'complete'" class="col-6 text-capitalize new-col"><button
                  mat-raised-button
                  class="task-btn"
                  (click)="openDialog(task)">UPLOAD</button></div>
            </div>
          </div>
        </ng-container>
      </mat-tab>


      <mat-tab>
        <ng-template mat-tab-label>
          <span [ngClass]="'bronze task-level'">BRONZE</span>
        </ng-template>
        <ng-container *ngFor="let task of this.data.tasks" >
          <div *ngIf="task.category == 'community' && task?.type== 'bronze'" class="task-list" >
            <div class="row">
              <div class="col-12 text-capitalize heading">Description</div>
              <div class="col-12">
                <p>{{ task?.description }}</p>
              </div>

            </div><br>
            <div class="row">
              <div class="col-6 text-capitalize new-label">Points: {{ task?.points }}</div>
              <div *ngIf="taskStatus?.teamTask  !== 'complete'" class="col-6 text-capitalize new-col"><button mat-raised-button
                  class="task-btn" (click)="openDialog(task)">UPLOAD</button></div>
            </div>
          </div>
        </ng-container>
      </mat-tab>

    </mat-tab-group>
    </div>
    </div>
    </div>
  </div>

 <!-- SELF TASKS -->
  <div class="row" style="margin-top:30px;">
  <div class="col-12">
    <div class="card card-dashboard" style="height: 100%;">
       <div class="card-header">
         <h2 style="margin: 0px !important;">Self Task</h2>
       </div>
      <div class="card-body">

      <!-- TABS SELF -->
  <mat-tab-group style="width: 100%;height: 100%; display: flex; align-items: center ;min-height: 350px; justify-content: start;" >
    <mat-tab  >
      <ng-template mat-tab-label>
        <span [ngClass]="'gold task-level'">GOLD</span>
      </ng-template>
      <ng-container *ngFor="let task of this.data.tasks" >
        <div *ngIf="task.category == 'self' && task?.type== 'gold'" class="task-list">
          <div class="row">
             <div class="col-12 text-capitalize heading">Description</div>
             <div class="col-12">
               <p>{{ task?.description }}</p>
             </div>
          </div><br>
          <div class="row">
          <div class="col-12 text-capitalize new-col" *ngIf="individualTaskStatus == false"><button mat-raised-button
              class="task-btn"
              (click)="openDialog(task)">UPLOAD</button></div>
          </div>
        </div>
      </ng-container>
    </mat-tab>

      <mat-tab >
        <ng-template mat-tab-label>
          <span [ngClass]="'silver task-level'">SILVER</span>
        </ng-template>
        <ng-container *ngFor="let task of this.data.tasks" >
          <div *ngIf="task.category == 'self' && task?.type== 'silver'" class="task-list" >
            <div class="row">
               <div class="col-12 text-capitalize heading">Description</div>
               <div class="col-12">
                 <p>{{ task?.description }}</p>
               </div>
            </div><br>
            <div class="row">
              <div class="col-12 text-capitalize new-col" *ngIf="individualTaskStatus == false"><button
                  mat-raised-button
                  class="task-btn"
                  (click)="openDialog(task)">UPLOAD</button></div>
            </div>
          </div>
        </ng-container>

      </mat-tab>


      <mat-tab>
        <ng-template mat-tab-label>
          <span [ngClass]="'bronze task-level'">BRONZE</span>
        </ng-template>
        <ng-container *ngFor="let task of this.data.tasks" >
          <div *ngIf="task.category == 'self' && task?.type== 'bronze'" class="task-list" >
            <div class="row">
               <div class="col-12 text-capitalize heading">Description</div>
               <div class="col-12">
                 <p>{{ task?.description }}</p>
               </div>
            </div><br>
            <div class="row">
              <div class="col-6 text-capitalize" style="display: flex; justify-content: center; align-items: center;">Type: {{ task?.type }}</div>
              <div class="col-6 text-capitalize new-col" *ngIf="individualTaskStatus == false"><button mat-raised-button
                  class="task-btn"
                  (click)="openDialog(task)">UPLOAD</button></div>
            </div>
          </div>
        </ng-container>
      </mat-tab>

    </mat-tab-group>
    </div>
    </div>
  </div>
  </div>
</div>
</ng-container>


<ng-container *ngIf="isdash== true">
  <div class="d-flex justify-content-center" >
    <!-- {{myTime| date:'HH:mm'}} {{item.time}} -->
    <!-- //&& item.time > (myTime | date:'HH:mm') -->
    <!-- <i class="material-icons pending-clock">watch_later</i> <b>Pending</b>  
    <i class="material-icons complete-check">check_circle</i> <b>Complete</b> 
     <b>{{taskStatus?.teamTask == 'complete' ? 'Submitted' : 'Pending'}}</b>  -->
  <div class="card " style="width: 500px;border-radius: 0%;margin-bottom:20px;">
    <div class="row no-gutters ">
        <div class="col-sm-5" style="justify-content: center; align-items: center; color: white;"
        ngClass="{{data?.card?.theme === 'fundamental duties'  ? 'bg-yellow': 'bg-pink'}}">
          <div class="row">
            <h1 style="font-size: 50px;margin: 0 0 0px;" class="text-uppercase"><b>{{data?.card?.dice_number}}</b></h1>
          </div>
          <div class="row">
            <h4 class="text-uppercase" style="margin: 0px;">Card No.</h4>
          </div>
        </div>
        <div class="col-sm-7">
            <div class="card-body">
                <h2 class="card-title text-uppercase"><b>{{data?.card?.theme}}</b></h2>
                <h3 class="card-title">{{data?.card?.description}}</h3>
                <!-- <a *ngIf="userData.role != 'student'" href="{{item.join_moderate}}" target="_blank"
                  class="btn btn-primary btn-sm">Start</a>
                  <a *ngIf="userData.role == 'student'"
                    href="{{item.join_attende}}" target="_blank" class="btn btn-primary btn-sm">Join</a> -->
            </div>
        </div>
    </div>
  </div>
  </div>

  <div class="row">

      <div class="col-md-12">
        <div class="row">
          <h2>Task Status</h2>
          <hr>
        </div>
        <div class="row">
            <h3>Community Task: <i class="material-icons" ngClass="{{taskStatus?.teamTask == 'complete'  ? 'complete-check': 'pending-clock'}}">{{taskStatus?.teamTask == 'complete' ?'check_circle': 'watch_later' }}</i> <b>{{taskStatus?.teamTask == 'complete' ? 'Submitted' : 'Pending'}}</b> </h3> <br>
        </div>
        <ng-container *ngFor="let item of taskStatus?.teamMembers">
          <div class="row">    
            <h3 class="text-capitalize">{{item.user_name}}'s Task:<i class="material-icons" ngClass="{{item.user_individual_task_status === true  ? 'complete-check': 'pending-clock'}}">{{item.user_individual_task_status === true ?'check_circle': 'watch_later' }}</i> <b>{{item.user_individual_task_status === true ? 'Submitted' : 'Pending'}}</b></h3> <br>
          </div>
        </ng-container>
      </div>

      <!-- <div class="col-md-6">
        <div class="row">
          <h1>Community Task Status</h1>
        </div>
        <div class="row">
          
        </div>
      </div> -->


  </div>
  
   
</ng-container>